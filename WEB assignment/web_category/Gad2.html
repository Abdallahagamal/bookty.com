<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cart-BOOKTY.com</title>
  <link rel="stylesheet" href="Gad2.css">
</head>
<body class="body">
  <!-- Navigation Bar -->
  <div id="dado_nav">
    <img src="house.png" class="reg-img" id="dado_home" onclick="window.location.href='gad.html'">
    <img src="cart.png" class="reg-img" id = "cart-icon">
    <span id="cart-count">0</span>
    <img src="bar.png" class="reg-img" id="dado_bar" onclick="window.location.href='../Borrowed_Books/borrowpage.html'">
    <h4>BOOKTY.com</h4>
    <img src="Group 4.png" id="dado_search">
  </div>

  <!-- Page Title -->
  <h2 class="section-title">Select Your Book</h2>

  <!-- Cart Grid -->
  <div class="cart-container">
    <!-- Cart Item Template (repeat this block for each book) -->
    <div class="cart-item">
      <img src="hor1.jpg" alt="Book Title" class="cart-book-img" />
      <h3 class="book-title">IT</h3>
      <div class="controls">
        <button class="select-btn">Select</button>
      </div>
    </div>
    <div class="cart-item">
        <img src="hor3.jpg" alt="Book Title" class="cart-book-img" />
        <h3 class="book-title">Al Gzar</h3>
        <div class="controls">
          <button class="select-btn">Select</button>
        </div>
      </div>

      <div class="cart-item">
        <img src="img2.jpg" alt="Book Title" class="cart-book-img" />
        <h3 class="book-title">It ends with</h3>
        <div class="controls">
          <button class="select-btn">Select</button>
        </div>
      </div>
      <div class="cart-item">
        <img src="img3.jpg" alt="Book Title" class="cart-book-img" />
        <h3 class="book-title">A good girl</h3>
        <div class="controls">
          <button class="select-btn">Select</button>
        </div>
        
        
      </div>
      <div class="cart-item">
        <img src="fan.jpg" alt="Book Title" class="cart-book-img" />
        <h3 class="book-title">Qawad jarten</h3>
        <div class="controls">
          <button class="select-btn">Select</button>
        </div>
      </div>
      <div class="cart-item">
        <img src="fan1.jpg" alt="Book Title" class="cart-book-img" />
        <h3 class="book-title">Weave of fates</h3>
        <div class="controls">
          <button class="select-btn">Select</button>
        </div>
      </div>
      <div class="cart-item">
        <img src="fan2.jpg" alt="Book Title" class="cart-book-img" />
        <h3 class="book-title">Caraval<br>&nbsp;</h3>
        <div class="controls">
          <button class="select-btn">Select</button>
        </div>
      </div>
      <div class="cart-item">
        <img src="fan3.jpg" alt="Book Title" class="cart-book-img" />
        <h3 class="book-title">Powerless<br>&nbsp;</h3>
        <div class="controls">
          <button class="select-btn">Select</button>
        </div>
      </div>
      <div class="cart-item">
        <img src="fan4.jpg" alt="Book Title" class="cart-book-img" />
        <h3 class="book-title">Ard Zekola<br>&nbsp;</h3>
        <div class="controls">
          <button class="select-btn">Select</button>
        </div>
      </div>
      <div class="cart-item">
        <img src="drama1.jpg" alt="Book Title" class="cart-book-img" />
        <h3 class="book-title">The great Gatsb</h3>
        <div class="controls">
          <button class="select-btn">Select</button>
        </div>
      </div>
      <div class="cart-item">
        <img src="drama2.jpg" alt="Book Title" class="cart-book-img" />
        <h3 class="book-title">Littel Women</h3>
        <div class="controls">
          <button class="select-btn">Select</button>
        </div>
      </div>
      <div class="cart-item">
        <img src="drama3.jpg" alt="Book Title" class="cart-book-img" />
        <h3 class="book-title">Girl in pieces</h3>
        <div class="controls">
          <button class="select-btn">Select</button>
        </div>
      </div>
      
  

    <!-- Repeat .cart-item for more books -->
    <!-- ... -->

    <!-- Confirm Button -->
    <div class="cart-footer">
      <button class="confirm-btn">Confirm Selection</button>
      <div class="bulk-controls">
        <button id="select-all">Select All</button>
        <button id="deselect-all">Deselect All</button>
      </div>
      
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      let selectedCount = 0;
      const selectButtons = document.querySelectorAll('.select-btn');
      const cartCount = document.getElementById('cart-count');
      const selectAllBtn = document.getElementById('select-all');
      const deselectAllBtn = document.getElementById('deselect-all');
      const confirmBtn = document.querySelector('.confirm-btn');
  
      const unavailableBooks = ['img2.jpg', 'fan3.jpg']; // اسماء الصور الغير متاحة
  
      function updateCartCount() {
        if (selectedCount > 0) {
          cartCount.style.display = 'inline';
          cartCount.textContent = selectedCount;
        } else {
          cartCount.style.display = 'none';
        }
      }
  
      // Disable unavailable books
      document.querySelectorAll('.cart-item').forEach(item => {
        const img = item.querySelector('img');
        const button = item.querySelector('.select-btn');
        if (unavailableBooks.includes(img.getAttribute('src'))) {
          button.disabled = true;
          button.textContent = "Not Available";
          button.style.backgroundColor = "gray";
          button.style.cursor = "not-allowed";
        }
      });
  
      selectButtons.forEach(button => {
        button.addEventListener('click', function() {
          if (this.disabled) return; // skip if disabled
          if (!this.classList.contains('selected')) {
            this.classList.add('selected');
            this.style.backgroundColor = '#cdbba6';
            this.style.color = '#674636';
            selectedCount++;
          } else {
            this.classList.remove('selected');
            this.style.backgroundColor = '#674636';
            this.style.color = '#fff8e8';
            selectedCount--;
          }
          updateCartCount();
        });
      });
  
      selectAllBtn.addEventListener('click', function() {
        selectButtons.forEach(button => {
          if (!button.disabled && !button.classList.contains('selected')) {
            button.classList.add('selected');
            button.style.backgroundColor = '#cdbba6';
            button.style.color = '#674636';
            selectedCount++;
          }
        });
        updateCartCount();
      });
  
      deselectAllBtn.addEventListener('click', function() {
        selectButtons.forEach(button => {
          if (!button.disabled && button.classList.contains('selected')) {
            button.classList.remove('selected');
            button.style.backgroundColor = '#674636';
            button.style.color = '#fff8e8';
            selectedCount--;
          }
        });
        updateCartCount();
      });
  
      confirmBtn.addEventListener('click', function() {
        let selectedBooks = [];
        document.querySelectorAll('.cart-item').forEach(item => {
          const button = item.querySelector('.select-btn');
          const img = item.querySelector('img');
          if (button.classList.contains('selected')) {
            selectedBooks.push({
              img: img.getAttribute('src'),
              title: item.querySelector('.book-title').innerText.trim()
            });
          }
        });
  
        localStorage.setItem('selectedBooks', JSON.stringify(selectedBooks));

        window.location.href = '../Borrowed_Books/borrowpage.html';
      });
    });
  </script>
  
  
</body>
</html>
